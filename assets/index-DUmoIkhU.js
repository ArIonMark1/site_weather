import{r as n,j as s,u as m,L as d}from"./index-0dNJ8yTF.js";const _=({submit:e})=>{const[a,i]=n.useState(""),c=t=>{t.preventDefault(),e(a.toLowerCase())};return s.jsx(s.Fragment,{children:s.jsxs("form",{className:"form",onSubmit:c,children:[s.jsx("input",{id:"cityTitle",className:"cityTitle",type:"text",value:a,name:"city",placeholder:"Search your city",onChange:t=>i(t.target.value)}),s.jsx("button",{type:"submit",className:"button",children:"Search"})]})})},h=({onRender:e})=>{const a=()=>new Date().toLocaleTimeString();return n.useEffect(()=>()=>{a()},[e]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"this__content",children:[s.jsxs("div",{className:"this__day",children:[s.jsxs("div",{className:"top__block",children:[s.jsxs("div",{className:"this__temp",children:[Math.floor(e.main.temp-273.15),"Â°"]}),s.jsx("div",{className:"this__day__day",children:"Tooday"})]}),s.jsxs("div",{className:"bottom__block",children:[s.jsxs("div",{className:"this__time",children:["Time: ",s.jsx("span",{children:a()})]}),s.jsxs("div",{className:"this__city",children:["City: ",s.jsx("span",{children:e.name}),s.jsxs("span",{className:"this__countryCode",children:[" ","[ ",e.sys.country," ]"]})]}),s.jsxs("div",{children:["Wind: Speed:"," ",s.jsx("span",{className:"wind__speed",children:e.wind.speed}),"m/s Gust:"," ",s.jsx("span",{className:"wind__gust",children:e.wind.gust||0}),"m/s"]})]})]}),s.jsx("div",{className:"this__day_info",children:s.jsxs("div",{className:"this__day_info_items",children:[s.jsxs("div",{className:"this__day_description",children:[s.jsx("span",{className:"description__title",children:"Today "}),e.weather[0].main]}),s.jsxs("div",{className:"this__day_temperature",children:[s.jsx("span",{className:"description__title",children:"Temperatura: "}),Math.floor(e.main.temp-273.15)]}),s.jsxs("div",{className:"feels__temperature",children:[s.jsx("span",{className:"description__title",children:"Temperatura feels like:"}),Math.floor(e.main.feels_like-273.15)]}),s.jsxs("div",{className:"maximum__temperature",children:[s.jsx("span",{className:"description__title",children:"Temperatura maximum: "}),Math.floor(e.main.temp_max-273.15)]}),s.jsxs("div",{className:"minimum__temperature",children:[s.jsx("span",{className:"description__title",children:"Temperatura minimum: "}),Math.floor(e.main.temp_min-273.15)]}),s.jsxs("div",{className:"this__day_pressure",children:[s.jsx("span",{className:"description__title",children:"Pressure: "}),e.main.pressure," hPa"]}),s.jsxs("div",{className:"this__day_humidity",children:[s.jsx("span",{className:"description__title",children:"Humidity: "}),e.main.humidity," %"]})]})})]})})},o=()=>{const[e,a]=n.useState(""),{data:i,isFetching:c,isSuccess:t,isError:l,error:r}=m(e,{skip:e==="",refetchOnReconnect:!0});return s.jsx(s.Fragment,{children:s.jsx("div",{className:"main__page",children:s.jsxs("div",{className:"container",children:[s.jsx(_,{submit:a}),s.jsx("div",{className:"response__container",children:c?s.jsx(d,{}):s.jsxs(s.Fragment,{children:[t&&s.jsxs(s.Fragment,{children:[console.log(i),s.jsx(h,{onRender:i})]}),l&&r.data&&s.jsx("div",{className:"error__block",children:s.jsxs("p",{className:"error__message",children:[s.jsxs("span",{className:"error__code",children:[r.data.cod," "]}),"Wrong request.... ",r.data.message]})}),l&&!r.data&&s.jsx("div",{className:"error__block",children:s.jsx("p",{className:"error__message",children:"Internet Disconnected..."})})]})})]})})})},x=o;export{x as default};
